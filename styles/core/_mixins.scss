/*
 * Миксины для переиспользования кода
 * © 2024 Igor Silin. Все права защищены.
 */

// === АДАПТИВНОСТЬ ===
// Миксин для медиа-запросов
@mixin respond-to($breakpoint) {
    @if $breakpoint == mobile {
        @media (max-width: #{$breakpoint-mobile - 1px}) {
            @content;
        }
    }
    @if $breakpoint == tablet {
        @media (max-width: #{$breakpoint-tablet - 1px}) {
            @content;
        }
    }
    @if $breakpoint == desktop {
        @media (min-width: $breakpoint-desktop) {
            @content;
        }
    }
    @if $breakpoint == wide {
        @media (min-width: $breakpoint-wide) {
            @content;
        }
    }
}

// === ФЛЕКСБОКС ===
// Центрирование по флексу
@mixin flex-center {
    display: flex;
    justify-content: center;
    align-items: center;
}

// Флекс между элементами
@mixin flex-between {
    display: flex;
    justify-content: space-between;
    align-items: center;
}

// Флекс колонка
@mixin flex-column {
    display: flex;
    flex-direction: column;
}

// === КНОПКИ ===
// Базовая кнопка
@mixin button-base {
    display: inline-block;
    padding: $spacing-sm $spacing-md;
    border: none;
    border-radius: $border-radius-md;
    font-family: $font-family-primary;
    font-weight: $font-weight-medium;
    text-decoration: none;
    text-align: center;
    cursor: pointer;
    transition: all $transition-base;
    
    &:focus {
        outline: 2px solid $color-accent;
        outline-offset: 2px;
    }
}

// Кнопка с эффектом наведения
@mixin button-hover-effect($bg-color, $hover-color) {
    background-color: $bg-color;
    
    &:hover {
        background-color: $hover-color;
        transform: translateY(-2px);
        box-shadow: $shadow-lg;
    }
    
    &:active {
        transform: translateY(0);
    }
}

// === КАРТОЧКИ ===
// Базовая карточка
@mixin card-base {
    background: $gradient-card;
    border-radius: $border-radius-lg;
    padding: $spacing-lg;
    box-shadow: $shadow-md;
    backdrop-filter: blur(10px);
    border: 1px solid rgba(255, 255, 255, 0.1);
    transition: all $transition-base;
    
    &:hover {
        transform: translateY(-4px);
        box-shadow: $shadow-xl;
    }
}

// === ТЕКСТ ===
// Обрезка текста
@mixin text-truncate {
    overflow: hidden;
    text-overflow: ellipsis;
    white-space: nowrap;
}

// Многострочное обрезание текста
@mixin text-clamp($lines) {
    display: -webkit-box;
    -webkit-line-clamp: $lines;
    -webkit-box-orient: vertical;
    overflow: hidden;
}

// Градиентный текст
@mixin gradient-text($gradient) {
    background: $gradient;
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
}

// === АНИМАЦИИ ===
// Плавное появление
@mixin fade-in($duration: $transition-base) {
    opacity: 0;
    animation: fadeIn $duration ease-in-out forwards;
}

@keyframes fadeIn {
    to {
        opacity: 1;
    }
}

// Появление снизу
@mixin slide-up($duration: $transition-base, $distance: 20px) {
    opacity: 0;
    transform: translateY($distance);
    animation: slideUp $duration ease-out forwards;
}

@keyframes slideUp {
    to {
        opacity: 1;
        transform: translateY(0);
    }
}

// === ПСЕВДОЭЛЕМЕНТЫ ===
// Базовый псевдоэлемент
@mixin pseudo($content: '') {
    content: $content;
    position: absolute;
}

// Декоративная линия
@mixin decorative-line($color: $color-accent, $width: 50px, $height: 2px) {
    @include pseudo;
    width: $width;
    height: $height;
    background-color: $color;
    bottom: -10px;
    left: 0;
}

// === ПОЗИЦИОНИРОВАНИЕ ===
// Абсолютное центрирование
@mixin absolute-center {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
}

// Покрытие всей области
@mixin cover {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
}

// === ВИЗУАЛЬНЫЕ ЭФФЕКТЫ ===
// Эффект свечения
@mixin glow-effect($color: $color-accent, $intensity: 0.5) {
    box-shadow: 0 0 20px rgba($color, $intensity);
}

// Стеклянный эффект
@mixin glass-effect {
    background: rgba(255, 255, 255, 0.1);
    backdrop-filter: blur(10px);
    border: 1px solid rgba(255, 255, 255, 0.2);
}
